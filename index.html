<!--
    This is my rendition of the rock paper scissors assignments 
    within the Odin Project made from CSS Javascript and HTML

    Author: Kyle Gruen
    Date: 10-26-2022
-->

<!DOCTYPE html>

<html lang="en">

<!-- Gives webpage the information for background use -->

<head>
    <!-- Sets special character use within program -->
    <meta charset="UTF-8">

    <!-- Sets the webpages title -->
    <title>Rock Paper Scissors</title>

    <!--Links CSS File to Index-->
    <link rel="stylesheet" href="homepage.css">

    <!--Links to JS File to Index-->
</head>

<body>

    <div class="header">
        <div class="header-container">
            <button class="start">Start Game</button>
            <div class="centerBox">
                <h1>Scoreboard</h1>
                <h2>0-0</h2>
            </div>
            <button class="reset">Reset Game</button>
        </div>
    </div>

    <div class="center">
        <div class="play-container">
            <button class="rock">Rock</button>
            <button class="paper">Paper</button>
            <button class="scissor">Scissor</button>
        </div>
    </div>

    <div class="footer">
        <h3>Start Game!</h3>
        <h4></h4>
    </div>


    <script>

        const startButton = document.querySelector(".start");
        const resetButton = document.querySelector(".reset");
        const rockButton = document.querySelector(".rock");
        const paperButton = document.querySelector(".paper");
        const scissorButton = document.querySelector(".scissor");

        const placementScore = document.querySelector("h2");
        const bottomMessage = document.querySelector("h3");
        const finalScore = document.querySelector("h4");

        const arr = ['rock', 'paper', 'scissor'];

        startButton.addEventListener('click', () => {
            console.log("game started");
            game();
        });

        rockButton.addEventListener('click', () => {
            console.log('Player Chose Rock');
            game('rock');
        })

        paperButton.addEventListener('click', () => {
            console.log("Player Chose Paper");
            game('paper');
        })

        scissorButton.addEventListener('click', () => {
            console.log("Player Chose Scissor");
            game('scissor');
        })

        resetButton.addEventListener('click', () => {
            console.log("Score was Reset");
            reset();
        })

        startButton.addEventListener('click', () => {
            console.log("Game was Started"); 
            reset(); 
        })

        let playerScore = 0;
        let compScore = 0;

        function getComputerChoice() {
            let random = arr[Math.floor(Math.random() * arr.length)];
            return (random);
        }

        function roundPlay(playC, compC) {

            console.log(compC);
            if (playC == compC) {
                console.log("Tie");
                bottomMessage.textContent = (`Tie -> Player: ${playC} / Computer: ${compC}`)
            }
            else if (playC == 'rock') {
                if (compC == 'paper') {
                    console.log(`Loss -> Comp: ${compC} / Player: ${playC}`);
                    bottomMessage.textContent = (`Loss -> Player: ${playC} Computer: ${compC}`)
                    compScore += 1;
                }
                else {
                    console.log(`Win -> Comp: ${compC} / Player: ${playC}`);
                    bottomMessage.textContent = (`Win -> Player: ${playC} Computer: ${compC}`)
                    playerScore += 1;
                }
            }
            else if (playC == 'paper') {
                if (compC == 'scissor') {
                    console.log(`Loss -> Comp: ${compC} / Player: ${playC}`);
                    bottomMessage.textContent = (`Loss -> Player: ${playC} Computer: ${compC}`)
                    compScore += 1;
                }
                else {
                    console.log(`Win -> Comp: ${compC} / Player: ${playC}`);
                    bottomMessage.textContent = (`Win -> Player: ${playC} Computer: ${compC}`)
                    playerScore += 1;
                }
            }
            else if (playC == 'scissor') {
                if (compC == 'rock') {

                    console.log(`Loss -> Comp: ${compC} / Player: ${playC}`);
                    bottomMessage.textContent = (`Loss -> Player: ${playC} Computer: ${compC}`)
                    compScore += 1;
                }
                else {
                    console.log(`Win -> Comp: ${compC} / Player: ${playC}`);
                    bottomMessage.textContent = (`Win -> Player: ${playC} Computer: ${compC}`)
                    playerScore += 1;
                }
            }
            else {
                console.log('Invalid Input');
            }


            updateText();

        }

        function updateText() {
            placementScore.textContent = (`Player: ${playerScore} - Computer: ${compScore}`);
        }

        function game(playerChoice) {

            let compChoice = getComputerChoice();
            roundPlay(playerChoice, compChoice);

            console.log(`Current Score -> Player: ${playerScore} Computer: ${compScore}`);

            final(); 
        }

        function final() {
            if (playerScore >= 5){
                bottomMessage.textContent = ("Game Over! You Win!");
                finalScore.textContent = (`Final Score -> Player: ${playerScore} / Computer: ${compScore}`); 

                placementScore.textContent = ("Click Reset to Play Again"); 
            }
            else if (compScore >= 5){
                bottomMessage.textContent = ("Game Over! You Lose!");
                finalScore.textContent = (`Final Score -> Player: ${playerScore} / Computer: ${compScore}`);

                placementScore.textContent = ("Click Reset to Try Again"); 
            }
        }

        function reset() {
            playerScore = 0;
            compScore = 0;

            bottomMessage.textContent = ("Start Game!");
            placementScore.textContent = ("0-0");

            finalScore.textContent = (""); 
        }

    </script>
</body>


</html>
